schema: '2.0'
stages:
  train:
    cmd: python train.py --params params.yaml
    deps:
    - path: data/coco128
      md5: 1b2f4bc507be09df0f44f4550460154d.dir
      size: 22318116
      nfiles: 264
    - path: train.py
      md5: 2186ae1065a0c3c00a93aa3c9c8b5616
      size: 31137
    params:
      params.yaml:
        train:
          weights: yolov5s.pt
          cfg: ''
          data: data/coco128.yaml
          hyp: data/hyp.scratch.yaml
          epochs: 10
          batch_size: 16
          img_size:
          - 32
          - 32
          rect: false
          resume: false
          nosave: false
          notest: false
          noautoanchor: false
          evolve: false
          bucket: ''
          cache_images: false
          image_weights: false
          device: ''
          multi_scale: false
          single_cls: false
          adam: false
          sync_bn: false
          local_rank: -1
          workers: 8
          project: runs/train
          entity:
          name: exp
          exist_ok: false
          quad: false
          linear_lr: false
          label_smoothing: 0.0
          upload_dataset: false
          bbox_interval: -1
          save_period: -1
          artifact_alias: latest
    outs:
    - path: runs/train/confusion_matrix.png
      md5: d712347e19a92532e72bf0ebbb2baa7c
      size: 437798
    - path: runs/train/hyp.yaml
      md5: 3afabb397cf52e37a10987f329e97b96
      size: 356
    - path: runs/train/labels.jpg
      md5: d61cfe7575c61823439c4dc25d92d65a
      size: 457560
    - path: runs/train/labels_correlogram.jpg
      md5: 0b0eb198177da2345b8a26c86176caea
      size: 349727
    - path: runs/train/metrics
      md5: 6433d2fca5de73a7191145ee393073f8.dir
      size: 5067
      nfiles: 13
    - path: runs/train/results.png
      md5: 603685f22408e3c1d716269760af0323
      size: 295339
    - path: runs/train/results.txt
      md5: a2f740759e7b8f259df7046c9f1749b0
      size: 1510
    - path: runs/train/train_batch0.jpg
      md5: 3eda6ab77ccf7682fed5f5686fccfe33
      size: 8439
    - path: runs/train/weights/best.pt
      md5: 61090ddf0364befb287bc3bb746cd706
      size: 14758671
    - path: runs/train/weights/last.pt
      md5: bee497ad426b06fd44c1027d4f60351a
      size: 14758671
  test:
    cmd: python test.py --params params.yaml
    deps:
    - path: runs/train/weights/best.pt
      md5: efc9268878bd0e7a2dd5d4ba6180d3b6
      size: 14758671
    - path: test.py
      md5: fc4fb4c668772ba830ee436b736c9c13
      size: 15535
    params:
      params.yaml:
        test:
          weights: runs/train/weights/best.pt
          data: data/coco128.yaml
          batch_size: 32
          img_size: 640
          conf_thres: 0.001
          iou_thres: 0.6
          task: val
          device: ''
          single_cls: false
          augment: false
          verbose: false
          save_txt: false
          save_hybrid: false
          save_conf: false
          save_json: false
          project: runs/test
          exist_ok: false
    outs:
    - path: runs/test/confusion_matrix.png
      md5: 21073ad04061962a33a7740a7fd725c5
      size: 438072
    - path: runs/test/test_batch0_labels.jpg
      md5: b76d0b413b4d1812c749a68f0bc48b8a
      size: 240745
    - path: runs/test/test_batch0_pred.jpg
      md5: 25342ff6072ac8eb286947397fbd854f
      size: 405288
  hubconf:
    cmd: python hubconf.py
    deps:
    - path: hubconf.py
      md5: b5c23686a385743956842a3e6a4e7755
      size: 5638
    outs:
    - path: runs/hub/bus.jpg
      md5: 2f590610fb637a416f949b148e7e8142
      size: 216448
    - path: runs/hub/image2.jpg
      md5: 6fb35cfbf8d832ce8299084fad4f9486
      size: 215878
    - path: runs/hub/image4.jpg
      md5: dbe0ce003e22ceb4b36c7c0199cdfd8e
      size: 3827
    - path: runs/hub/zidane.jpg
      md5: 9fe85a9f15900b2e1af0c9572bcf11a7
      size: 99681
  detect:
    cmd: python detect.py --params params.yaml
    deps:
    - path: detect.py
      md5: 6111f0e211d01a61b33b1b37672e7ced
      size: 7511
    - path: runs/train/weights/best.pt
      md5: 61090ddf0364befb287bc3bb746cd706
      size: 14758671
    params:
      params.yaml:
        detect:
          weights: runs/train/weights/best.pt
          source: data/images
          img_size: 640
          conf_thres: 0.25
          iou_thres: 0.45
          max_det: 1000
          device: ''
          view_img: false
          save_txt: true
          save_conf: false
          save_crop: false
          nosave: false
          classes:
          agnostic_nms: false
          augment: false
          update: false
          project: runs/detect
          exist_ok: false
          line_thickness: 3
          hide_labels: false
          hide_conf: false
    outs:
    - path: runs/detect/bus.jpg
      md5: ff732ae9a35d8a4fa076a048e02d702e
      size: 570226
    - path: runs/detect/zidane.jpg
      md5: fc98ab54fc004e0d28000bc073c0f6a5
      size: 325322
  export:
    cmd: python models/export.py --params params.yaml
    deps:
    - path: models/export.py
      md5: f514996563aa532c036c8f66b3d2adfd
      size: 6777
    - path: runs/train/weights/best.pt
      md5: efc9268878bd0e7a2dd5d4ba6180d3b6
      size: 14758671
    params:
      params.yaml:
        export:
          weights: runs/train/weights/best.pt
          img_size:
          - 640
          - 640
          batch_size: 1
          device: cpu
          include:
          - torchscript
          - onnx
          - coreml
          half: false
          inplace: false
          train: false
          optimize: false
          dynamic: false
          simplify: false
          opset_version: 12
          project: runs/export
    outs:
    - path: runs/export
      md5: b54b825b0e4106e127debc9473fe935c.dir
      size: 58594205
      nfiles: 2
  download:
    cmd: bash data/scripts/get_coco128.sh
    params:
      params.yaml:
        download:
          dataset: coco128
    outs:
    - path: data/coco128
      md5: d9c6c94f003f3af98414a74e9dd6ce3b.dir
      size: 22274101
      nfiles: 263
